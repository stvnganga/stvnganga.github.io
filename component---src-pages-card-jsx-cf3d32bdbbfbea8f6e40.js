"use strict";(self.webpackChunkinput_fields=self.webpackChunkinput_fields||[]).push([[716,221,679],{4197:function(e,t,a){a.r(t),a.d(t,{GET_PAYMENT_DATA:function(){return s},PAYMENT_STATUS:function(){return o},SEND_PAYMENT_DATA:function(){return u},START_PAYMENT:function(){return n}});var n="start-payment",s="GET_PAYMENT_DATA",u="SEND_PAYMENT_DATA",o="payment-status";t.default={}},2385:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});var n=a(7294),s=a(6705),u=a(4197);function o(){var e=(0,n.useState)(""),t=e[0],a=e[1],o=(0,n.useRef)(new BroadcastChannel("payment")),r=(0,n.useState)({card:t}),c=r[0],d=r[1];return(0,n.useEffect)((function(){window&&(window.onmessage=function(e){if(e.data.messageType)switch(e.data.messageType){case u.START_PAYMENT:o.current.postMessage({messageType:u.GET_PAYMENT_DATA});break;case u.SEND_PAYMENT_DATA:e.data.name&&e.data.value&&d((function(t){var a;return Object.assign({},t,((a={})[e.data.name]=e.data.value,a))}))}})}),[]),(0,n.useEffect)((function(){c.cvv&&c.expiry&&c.card&&(console.log(c),(0,s.default)({from:"hosted-frames",messageType:"payment-status",data:{complete:1/0,message:"",statusCode:200}}))})),n.createElement("input",{type:"text",name:"card",placeholder:"13 to 19 digits",value:t,onChange:function(e){console.log("Card changed");var t=e.target.value;/^[0-9]{0,19}$/.test(t)&&(a(t),(0,s.default)({from:"card",messageType:"validation",data:{valid:/^[0-9]{13,19}$/.test(t)}}))},onFocus:function(){console.log("Card focused"),(0,s.default)({from:"card",messageType:"event",data:{eventName:"onfocus",value:!0}})},onBlur:function(){console.log("Card blurred"),(0,s.default)({from:"card",messageType:"event",data:{eventName:"onblur",value:!0}})}})}},6705:function(e,t,a){function n(e){return void 0===e&&(e={}),"undefined"!=typeof window&&window.parent.postMessage(JSON.stringify(e),new URLSearchParams(location.search).get("origin"))}a.r(t),a.d(t,{default:function(){return n}})}}]);
//# sourceMappingURL=component---src-pages-card-jsx-cf3d32bdbbfbea8f6e40.js.map