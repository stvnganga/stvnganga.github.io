"use strict";(self.webpackChunkinput_fields=self.webpackChunkinput_fields||[]).push([[716,221,679],{4197:function(e,t,n){n.r(t),n.d(t,{GET_PAYMENT_DATA:function(){return u},PAYMENT_STATUS:function(){return o},SEND_PAYMENT_DATA:function(){return s},START_PAYMENT:function(){return a},default:function(){return r}});var a="start-payment",u="GET_PAYMENT_DATA",s="SEND_PAYMENT_DATA",o="payment-status";function r(){return null}},2385:function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var a=n(7294),u=n(6705),s=n(4197);function o(){var e=(0,a.useState)(""),t=e[0],n=e[1],o=(0,a.useState)({card:t}),r=o[0],d=o[1],c=function(e,t){return d((function(n){var a;return Object.assign({},n,((a={})[e]=t,a))}))};return(0,a.useEffect)((function(){if(window){var e=new BroadcastChannel("payment");window.onmessage=function(t){t.data.messageType===s.START_PAYMENT&&e.postMessage({messageType:s.GET_PAYMENT_DATA})},e.onmessage=function(e){e.data.messageType===s.SEND_PAYMENT_DATA&&c(e.data.name,e.data.value)}}}),[]),(0,a.useEffect)((function(){r.cvv&&r.expiry&&r.card&&(console.log("send status"),"1111"===r.cvv?(0,u.default)({from:"card",messageType:"payment-status",data:{message:"Payment failed",statusCode:300}}):(0,u.default)({from:"card",messageType:"payment-status",data:{message:"Payment done",statusCode:200}}))})),a.createElement("input",{type:"text",name:"card",placeholder:"13 to 19 digits",value:t,onChange:function(e){console.log("Card changed");var t=e.target.value;/^[0-9]{0,19}$/.test(t)&&(n(t),c("card",t),(0,u.default)({from:"card",messageType:"validation",data:{valid:/^[0-9]{13,19}$/.test(t)}}))},onFocus:function(){console.log("Card focused"),(0,u.default)({from:"card",messageType:"event",data:{eventName:"onfocus",value:!0}})},onBlur:function(){console.log("Card blurred"),(0,u.default)({from:"card",messageType:"event",data:{eventName:"onblur",value:!0}})}})}},6705:function(e,t,n){function a(e){return void 0===e&&(e={}),"undefined"!=typeof window&&window.parent.postMessage(e,new URLSearchParams(location.search).get("origin"))}n.r(t),n.d(t,{default:function(){return a}})}}]);
//# sourceMappingURL=component---src-pages-card-jsx-f8c0c993e66351a0be94.js.map